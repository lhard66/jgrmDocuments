# SEP

## 9月3日 -- 9月9日

### 9.06 Monday
1. 替换存放位置、使用状况、处理原因页面。完成。
2. 了解按模块打包。
3. 封装一个数量组件。

### 9.07 Tuesday
1. 总帐假分页改为真分页。
2. 测试数量价格组件。完成！
3. 了解按模块打包。
4. 尝试解决菜单栏消失问题。办法：鼠标移动时，若光标不在菜单栏上，隐藏菜单栏。
5. 获取编码优化。支持使用from的change事件，只传key和value。完成！

### 9.08 Wednesday
1. 总帐真分页。
2. 菜单栏不消失问题尝试解决。
3. 资产管理页面。
4. 路由最后如果有/，则路由页面正确，但tag栏会报错。完成！
5. 刷新参数丢失。使用url参数的形式解决，或是用sessionStorage解决。

## 九月
- [x] 真分页完成。
- [x] 解决总账bug。
- [x] 我的桌面抖动，标签有错号不消失。
- [x] ~~刷新参数丢失。使用url参数的形式解决，或是用sessionStorage解决。~~未解决原因：vue-router对象为只读，不可给params赋值。若使用push方式传值，则不知道那次是通过F5刷新进入，需要每次路由都要循环判断标签中是否存params数据，太损耗性能不可取。若刷新后手动push过去，因为push只能通过name+params或url，两者互斥故不可行。
- [x] 菜单栏不消失问题。办法：鼠标移动时，若光标不在菜单栏上，隐藏菜单栏。问题：mouselease已经触发，但方法计算有问题，需要修改。
- [ ] 了解按模块打包。
- [ ] 资产管理页面。
- [ ] 框架提供权限接口。
- [x] 获取编码提供无条件强制获取功能。问题：参数不完整，需要与后台协商。
- [x] 填制凭证下拉列表不做限制。
- [x] 路由名字检查是否重复。
- [ ] 金额、数量、单价组件，改名并提供type快捷用法的支持。
- [x] 修改所有开发页面名字。
- [x] beforeClose关闭非当前显示页签时有问题。
- [ ] 提供接口，取消请求。
- [ ] beforeClose的mixin问题。
- [x] 优化页面内name与路由匹配的正则表达式规则。
- [x] 会计期间bug和第12项为不可编译，但第13项依然可以编辑。应为最后一项不可编辑。只有新增时会出现。功能二：双击打开编辑。
- [ ] 404页面切换标签有问题。

### 权限数据说明：
* 接口返回有权限的数据，白名单返回始终有权限的数据，工具条配置返回需要第三方页面获取权限的数据 及 配置始终显示的数据。
* 综合后减去所有权限数据，即为无权限数据。传给组件。

## 9月17日 -- 9月23日

### 9.19 Thursday
1. 增加toolbar的disabledKeys和hiddenKeys，业务可能会传过来。完成！
2. 完成权限新需求。完成！

***
#### 权限思路(备份)：
1. 新增、保存、保存新增都返回。有新增肯定有保存。
2. 页面中也可以自定义白名单。
3. 权限分三类，一类为通过接口返回的权限，二类为通过配置，其它页面获取的权限数据。三类为通过全局白名单和局部页面白名单。
4. 不要改页面内代码，一切通过配置完成。

权限思路：
1. 总合的所有按钮，在工具条配置当中。

2. 接口返回有权限的数据，白名单返回始终有权限的数据，工具条配置返回需要第三方页面获取权限的数据 及 配置始终显示的数据。

综合后减去所有权限数据，即为无权限数据。传给组件。

***

### 9.20 Friday
1. 菜单栏的权限功能。
2. 单价、数量、金额组件快速使用方式。
3. 重点测试基础设置菜单内的页面，其次将自己开发的页面增加权限配置。

## 9月24日 -- 9月30日

### 9.25 Tuesday
1. 完成登陆接口替换。
2. 路由时验证是否有权限

### 9.26 Wednesday
2. 权限wiki。完成！
3. 重写筛选菜单算法。完成！
4. 切换帐套下拉列表。完成！
5. 若是超级用户，不做权限判断。完成！
6. 每次路由先进行权限判断。完成！

### 9.29 Saturday
1. 取消请求接口。
2. 弹出菜单头部被遮住。完成！
3. 权限和未结算期间修改需要刷新页面。
4. 工具条无用内容屏蔽。
5. 上传附件删除按钮跟随上传。完成！
6. 登陆失效提示禁止反复弹出。完成！
7. 凭证列表页面打印。
8. 公共参数接口。